<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Aerial 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">Aerial 1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  
  <span class="sidebar-brand-text">Aerial 1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  
</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="a2gmeasurements">
<h1>A2GMeasurements<a class="headerlink" href="#a2gmeasurements" title="Link to this heading">#</a></h1>
<p>a2gMeasurements.py comprises multiple (drivers for gimbal and gps, among others)
GUI_A2G_MEAS.py has all the functionality related with the GUI</p>
<section id="use">
<h2>Use<a class="headerlink" href="#use" title="Link to this heading">#</a></h2>
<p>To use this software, execute in the ground node:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="hll">$ python GUI_A2G_MEAS.py
</span></pre></div>
</div>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a2gmeasurements.</span></span><span class="sig-name descname"><span class="pre">GimbalRS2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">speed_yaw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_pitch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_roll</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2" title="Link to this definition">#</a></dt>
<dd><p>Python Class that works as the driver for the gimbal DJI RS2.</p>
<p>The gimbal should be connected to the host computer through an USB-to-PCAN bridge (PCAN System).</p>
<p>It creates a thread (called here a gimbal thread) to handle the communication between the gimbal and this host computer.</p>
<p>More info on “Manual A2GMeasurements” (Chapter).</p>
<p>Gimbal control modified and extended from <a class="reference external" href="https://github.com/ceinem/dji_rs2_ros_controller">https://github.com/ceinem/dji_rs2_ros_controller</a>, based as well on DJI R SDK demo software</p>
<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">speed_yaw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_pitch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_roll</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.__init__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>speed_yaw</strong> (<em>int</em><em>, </em><em>optional</em>) – speed of yaw axis in deg/s, defaults to 40</p></li>
<li><p><strong>speed_pitch</strong> (<em>int</em><em>, </em><em>optional</em>) – speed of pitch axis in deg/s, defaults to 40</p></li>
<li><p><strong>speed_roll</strong> (<em>int</em><em>, </em><em>optional</em>) – speed of roll axis in deg/s, defaults to 40</p></li>
<li><p><strong>DBG_LVL_1</strong> (<em>bool</em><em>, </em><em>optional</em>) – level of verbose to show at the command line (beta). This shows less verbose than the 0 level.</p></li>
<li><p><strong>DBG_LVL_0</strong> (<em>bool</em><em>, </em><em>optional</em>) – level of verbose to show at the command line (beta), defaults to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.assemble_can_msg">
<span class="sig-name descname"><span class="pre">assemble_can_msg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.assemble_can_msg" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Builds a DJI RS2 message frame based on the command to be sent.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd_type</strong> (<em>int</em>) – see DJI R SDK Protocol and User Interface document for a description</p></li>
<li><p><strong>cmd_set</strong> (<em>int</em>) – see DJI R SDK Protocol and User Interface document for a description</p></li>
<li><p><strong>cmd_id</strong> (<em>int</em>) – see DJI R SDK Protocol and User Interface document for a description</p></li>
<li><p><strong>data</strong> (<em>int</em>) – see DJI R SDK Protocol and User Interface document for a description</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>parsed can frame whose fields are separated by “:”.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.can_buffer_to_full_frame">
<span class="sig-name descname"><span class="pre">can_buffer_to_full_frame</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.can_buffer_to_full_frame" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Parse the full DJI R frame message from the can buffer.</p>
<p>Its fields are explained in the DJI R SDK Protocol and User Interface.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>full_msg_frames</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.can_callback">
<span class="sig-name descname"><span class="pre">can_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.can_callback" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Callback for the thread in charge of checking the USB-to-CAN input (receive).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em>) – DJI RS2 frame message</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.parse_position_response">
<span class="sig-name descname"><span class="pre">parse_position_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.parse_position_response" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Retrieve the position from the full DJI frame message.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_frame</strong> (<em>list</em>) – DJI RS2 frame message</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.receive">
<span class="sig-name descname"><span class="pre">receive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.receive" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Threading callback function. Defined when the thread is created. This thread listens 
for coming (received) can messages on a USB port. Reads 1 entry of the rx bus buffer at a time.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bus</strong> (<em>can.Bus object</em>) – object pointing to the type of bus (from ‘can’ python package)</p></li>
<li><p><strong>stop_event</strong> (<em>threading.Event</em>) – works as a flag to stop receiving messages</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.request_current_position">
<span class="sig-name descname"><span class="pre">request_current_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.request_current_position" title="Link to this definition">#</a></dt>
<dd><p>Sends command to request the current position of the gimbal.</p>
<p>Blocks thread execution for the time given by attribute <code class="docutils literal notranslate"><span class="pre">TIME_POS_REQ</span></code> to allow the response to be received</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.send_cmd">
<span class="sig-name descname"><span class="pre">send_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.send_cmd" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Wrapper to <code class="docutils literal notranslate"><span class="pre">send_data</span></code> method.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cmd</strong> (<em>str</em>) – command fields separated by ‘:’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.send_data">
<span class="sig-name descname"><span class="pre">send_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">can_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.send_data" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Sends a command through the can bus</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>can_id</strong> (<em>int</em>) – static can id.</p></li>
<li><p><strong>data</strong> (<em>list</em>) – fields of the frame</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.seq_num">
<span class="sig-name descname"><span class="pre">seq_num</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.seq_num" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Updates the sequence number of the gimbal data.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number in hexadecimal</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.setPosControl">
<span class="sig-name descname"><span class="pre">setPosControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roll</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctrl_byte</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_for_action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.setPosControl" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Set the gimbal position by providing the yaw, roll and pitch.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yaw</strong> (<em>int</em>) – yaw angle. value should be between -1800 and 1800</p></li>
<li><p><strong>roll</strong> (<em>int</em>) – roll angle. value should be betweeen -1800 and 1800. However, gimbal might stop if it reachs its maximum/minimum (this) axis value.</p></li>
<li><p><strong>pitch</strong> (<em>int</em>) – value should be betweeen -1800 and 1800. However, gimbal might stop if it reachs its maximum/minimum (this)axis value.</p></li>
<li><p><strong>ctrl_byte</strong> (<em>int</em>) – Absolute or relative movement. For absolute use 0x01, while for relative use 0x00.</p></li>
<li><p><strong>time_for_action</strong> (<em>int</em><em>, </em><em>optional</em>) – Time it takes for the gimbal to move to desired position. Implicitly, this command controls the speed of gimbal. It is given in units of 0.1 s. For example: a value of 0x14 is 20, which means that the gimbal will take 2s (20*0.1) to reach its destination. Defaults to 0x14.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>always returns true</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.setSpeedControl">
<span class="sig-name descname"><span class="pre">setSpeedControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roll</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctrl_byte</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.setSpeedControl" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Sets speed for each axis of the gimbal.</p>
<p>Always after seting the speed the gimbal roll is moved (strange behaviour). 
Developer has to send a setPosControl to set again the position of the gimbal where it was previously.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yaw</strong> (<em>int</em>) – yaw speed in units of 0.1 deg/s</p></li>
<li><p><strong>roll</strong> (<em>int</em>) – roll speed in units of 0.1 deg/s</p></li>
<li><p><strong>pitch</strong> (<em>int</em>) – pitch speed in units of 0.1 deg/s</p></li>
<li><p><strong>ctrl_byte</strong> (<em>int</em><em>, </em><em>optional</em>) – defaults to 0x80</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if provided arguments are within acceptable range. False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.start_thread_gimbal">
<span class="sig-name descname"><span class="pre">start_thread_gimbal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bitrate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.start_thread_gimbal" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Starts the thread for listening the incoming data (if any) from the gimbal.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bitrate</strong> (<em>int</em><em>, </em><em>optional</em>) – Bitrate for the usb-to-can interface. This is a parameter inherited from can.Bus. Defaults to 1000000</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.stop_thread_gimbal">
<span class="sig-name descname"><span class="pre">stop_thread_gimbal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.stop_thread_gimbal" title="Link to this definition">#</a></dt>
<dd><p>Stops the gimbal thread by setting the threading.Event attribute created in “start_thread_gimbal”.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GimbalRS2.validate_api_call">
<span class="sig-name descname"><span class="pre">validate_api_call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GimbalRS2.validate_api_call" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>CRC error check.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_frame</strong> (<em>list</em>) – DJI RS2 frame message</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>passed or not the crc check</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a2gmeasurements.</span></span><span class="sig-name descname"><span class="pre">GpsSignaling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DBG_LVL_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GPS'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling" title="Link to this definition">#</a></dt>
<dd><p>Python class that works as “software” driver for the Septentrio’s GPS receiver (Mosaic-go).</p>
<p>It implements the commands described in Septentrio’s “mosaic-go Reference Guide”.</p>
<p>There are commands (sent to the GPS receiver) that control (mainly) what type of information (in the form of what is called in Septentrio’s documentation, NMEA or SBF sentences) is retrieved from the receiver.</p>
<p>It creates a thread (called here a gps thread) to handle the communication between the receiver and this host computer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DBG_LVL_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GPS'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.__init__" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Contructor for the GpsSignaling class. Important attributes are:</p>
<p><code class="docutils literal notranslate"><span class="pre">register_sbf_sentences_by_id</span></code>: list of integers containing the expected SBF sentences that are going to be requested at the receiver. The integer is the ID of the sentence described in Septentrio’s manual.</p>
<p><code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>: list of dictionaries containing the SBF frames during the execution of the thread responsible for receiving SBF frames.</p>
<p><code class="docutils literal notranslate"><span class="pre">MAX_SBF_BUFF_LEN</span></code>: Maximum number of entries in the SBF frame buffer before saving, cleaning and starting again</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>DBG_LVL_1</strong> (<em>bool</em><em>, </em><em>optional</em>) – used to print less verbose than level 0, defaults to False</p></li>
<li><p><strong>DBG_LVL_2</strong> (<em>bool</em><em>, </em><em>optional</em>) – used to print less verbose than level 2, defaults to False</p></li>
<li><p><strong>DBG_LVL_0</strong> (<em>bool</em><em>, </em><em>optional</em>) – prints all the verbose available, defaults to False</p></li>
<li><p><strong>save_filename</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the file where to save the record of GPS coordinates along an experiment, defaults to ‘GPS’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.check_coord_closeness">
<span class="sig-name descname"><span class="pre">check_coord_closeness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coordinates2compare</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.check_coord_closeness" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Checks how close is a coordinate with respect to the actual node position.</p>
<p>It is assumed that both pair of coordinates to be compared lay at the same height.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coordinates2compare</strong> (<em>dictionary</em>) – keys of the dictionary are ‘LAT’ and ‘LON’, and each of them has ONLY ONE value.</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em>) – margin in meters by which the coordinates in comparison are close or not, defaults to 5</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if close , False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.get_last_sbf_buffer_info">
<span class="sig-name descname"><span class="pre">get_last_sbf_buffer_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Coordinates'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.get_last_sbf_buffer_info" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Retrieves the last gps coordinates, the last heading information of the receiver, or both things.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>what</strong> (<em>str</em><em>, </em><em>optional</em>) – defines which information wants to be retrieved from <code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>. Options are: ‘Coordinates’, ‘Heading’ or ‘Both’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>either one or two dictionaries. The first dictionary (always) returned contains either the coordinates or the heading information. If ‘Both’ was specified the first dictionary contains the coordinates and the second dictionary contains the heading information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary/ies</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.parse_septentrio_msg">
<span class="sig-name descname"><span class="pre">parse_septentrio_msg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rx_msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.parse_septentrio_msg" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Parses the received message and process it depending if it is an SBF or NMEA message</p>
<p>Raises an exception if <em>any</em> problem is encountered when parsing the message.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rx_msg</strong> (<em>bytes</em><em> or </em><em>str</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.process_atteuler_sbf_data">
<span class="sig-name descname"><span class="pre">process_atteuler_sbf_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.process_atteuler_sbf_data" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Parses an AttEuler SBF sentence. To be able to receive this block, the receiver should be configured to output SBF sentences.</p>
<p>The AttEuler SBF sentence provides heading information of the imaginary line formed by the first and second antennas, w.r.t the North. To do so, the heading, pitch, and roll axis are defined.</p>
<p>The coordinates are stored in <code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>. Each <code class="docutils literal notranslate"><span class="pre">MAX_SBF_BUFF_LEN</span></code> entries of <code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>, the buffer is flushed and its contents are saved on disk.</p>
<p><em>More about all axis definition, and heading information in “mosaic-go Reference Guide”</em>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>raw_data</strong> (<em>bytes</em>) – received data corresponding to the AttEurler SBF sentence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.process_gps_nmea_data">
<span class="sig-name descname"><span class="pre">process_gps_nmea_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.process_gps_nmea_data" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Parses a line of NMEA data retrieved from the gps and coming from the virtual serial port.</p>
<p>Used NMEA sentences are GGA and HDT.</p>
<p>The labels of the items of the returned dictionary are the following ones for the GGA sentence: ‘Timestamp’, ‘Latitude’, ‘Longitude’, ‘Latitude Direction’, ‘Longitude’, ‘Longitude Direction’, ‘GPS Quality Indicator’, ‘Number of Satellites in use’, ‘Horizontal Dilution of Precision’, ‘Antenna Alt above sea level (mean)’, ‘Units of altitude (meters)’, ‘Geoidal Separation’, ‘Units of Geoidal Separation (meters)’, ‘Age of Differential GPS Data (secs)’, ‘Differential Reference Station ID’.</p>
<p><em>The instances of this class created in the GUI and other classes, use SBF sentences as the default type of sentence</em>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>str</em>) – line of read data following the structure of a NMEA frame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.process_pvtcart_sbf_data">
<span class="sig-name descname"><span class="pre">process_pvtcart_sbf_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.process_pvtcart_sbf_data" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Parses an PVTCart SBF sentence. To be able to receive this block, the receiver should be configured to output SBF sentences.</p>
<p>The PVTCart SBF sentence provides geocentric coordinates X, Y, Z for the position of the receiver.</p>
<p>The coordinates are stored in <code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>. Each <code class="docutils literal notranslate"><span class="pre">MAX_SBF_BUFF_LEN</span></code> entries of <code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>, the buffer is flushed and its contents are saved on disk.</p>
<p><em>More about the information carried by this block in “mosaic-go Reference Guide”</em>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>raw_data</strong> (<em>bytes</em>) – received data corresponding to the PVTCart SBF block</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.process_pvtgeodetic_sbf_data">
<span class="sig-name descname"><span class="pre">process_pvtgeodetic_sbf_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.process_pvtgeodetic_sbf_data" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Parses an PVTGeodetic SBF sentence. To be able to receive this block, the receiver should be configured to output SBF sentences.</p>
<p>The PVTGeodetic SBF sentence provides geodetic coordinates lat, lon, h for the position of the receiver.</p>
<p>The coordinates are stored in <code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>. Each <code class="docutils literal notranslate"><span class="pre">MAX_SBF_BUFF_LEN</span></code> entries of <code class="docutils literal notranslate"><span class="pre">SBF_frame_buffer</span></code>, the buffer is flushed and its contents are saved on disk.</p>
<p><em>More about the information carried by this block in “mosaic-go Reference Guide”</em>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>raw_data</strong> (<em>bytes</em>) – received data corresponding to the PVTGeodetic SBF block</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.sendCommandGps">
<span class="sig-name descname"><span class="pre">sendCommandGps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'USB'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.sendCommandGps" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Sends a command to the Septentrio mosaic-go receiver.</p>
<p>Blocks this thread execution for 500 ms.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – command to be sent to the Septentrio mosaic-go receiver. The available list of commands is defined in “mosaic-go Reference Guide”.</p></li>
<li><p><strong>interface</strong> (<em>str</em><em>, </em><em>optional</em>) – is one of the allowed Septentrio interfaces. Current implementation only uses ‘USB’ interface.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.serial_connect">
<span class="sig-name descname"><span class="pre">serial_connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serial_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.serial_connect" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Open a serial connection. The Septentrio mosaic-go provides 2 virtual serial ports.</p>
<p>In Windows the name of the virtual serial ports are typically: COM# (Virtual serial port 1), COM# (Virtual serial port 2).</p>
<p>In Linux the name of the virtual serial ports (controlled by the standard Linux CDC-ACM driver) are: /dev/ttyACM0 (Virtual serial port 1), /dev/ttyACM1 (Virtual serial port 2).</p>
<p>Septentrio has different interfaces to use with its receiver. Among other interfaces are: IP (using Ethernet-over-USB), USB.</p>
<p>For the virtual serial ports the interface name in Septentrio receiver is ‘USB’ as their
communication is made through the USB connection with the host computer.</p>
<p>Additionally there is an actual (not virtual) serial port in the mosaic-go device. Under Linux, the name of this port is ‘/dev/serial0’ which is the symbolic link to either ‘dev/ttyS#’ or ‘/dev/ttyAMA#’.</p>
<p>For information about all available interfaces check the Septentrio “mosaic-go Reference Guide”.</p>
<p><em>It is important to note that only the USB interface has been implemented in this class</em>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>serial_port</strong> (<em>str</em><em>, </em><em>optional</em>) – serial port or virtual serial port name, defaults to None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.serial_receive">
<span class="sig-name descname"><span class="pre">serial_receive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serial_instance_actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.serial_receive" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Callback function invoked by the thread responsible for handling I/O communication between the host computer and the Septentrio mosaic-go receiver.</p>
<p>Most of all messages sent by Septentrio mosaic-go receiver start with an “$” character.</p>
<p>The next character depends if the message is an echo of a command sent by the host computer, or if the message is an answer to a command sent by the host computer.</p>
<p>Echoes of commands sent by the host computer, don’t follow the “$” character with any predefined character. This messages are discarded by the method <code class="docutils literal notranslate"><span class="pre">parse_septentrio_msg</span></code>.</p>
<p>Messages that answer a command sent by the host computer, DO start with a predefined character. The predefined character depends wheter the answer arises from a NMEA sentence or an SBF sentence. This messages are parsed by the method <code class="docutils literal notranslate"><span class="pre">parse_septentrio_msg</span></code>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serial_instance_actual</strong> (<em>Serial</em>) – serial connection instance.</p></li>
<li><p><strong>stop_event</strong> (<em>threading.Event</em>) – Event to be used to stop the reading of the serial port.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.start_gps_data_retrieval">
<span class="sig-name descname"><span class="pre">start_gps_data_retrieval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'USB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sec1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SBF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmea_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'+GGA+HDT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sbf_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'+PVTCartesian+AttEuler'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.start_gps_data_retrieval" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Starts the streaming of the NMEA/SBF sentences.</p>
<p>Wrapper of <code class="docutils literal notranslate"><span class="pre">sendCommandGps</span></code>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream_number</strong> (<em>int</em><em>, </em><em>optional</em>) – each interface can have multiple data streams. This parameter defined which is the number of the stream for the given <code class="docutils literal notranslate"><span class="pre">interface</span></code>, defaults to 1</p></li>
<li><p><strong>interface</strong> (<em>str</em><em>, </em><em>optional</em>) – is one of the allowed Septentrio interfaces. Current implementation only uses ‘USB’ interface.</p></li>
<li><p><strong>interval</strong> (<em>str</em><em>, </em><em>optional</em>) – time regularity used by the Septentrio receiver to sense the given SBF/NMEA sentence. Can be any of the following self-explanatory names: ‘msec10’, ‘msec20’, ‘msec40’, ‘msec50’, ‘msec100’, ‘msec200’, ‘msec500’, ‘sec1’, ‘sec2’, ‘sec5’, ‘sec10’, ‘sec15’, ‘sec30’, ‘sec60’, ‘min2’, ‘min5’, ‘min10’, ‘min15’, ‘min30’, ‘min60’.</p></li>
<li><p><strong>msg_type</strong> (<em>str</em><em>, </em><em>optional</em>) – ‘NMEA’ or ‘SBF’, defaults to ‘SBF’</p></li>
<li><p><strong>nmea_type</strong> (<em>str</em><em>, </em><em>optional</em>) – name/s of the NMEA sentence/s to be retrieved. If multiple sentences, each sentence string identifier should be preceded by ‘+’, and all the string should be concatenated in one single string (i.e. ‘+HDT+GGA’) , defaults to ‘+GGA+HDT’</p></li>
<li><p><strong>sbf_type</strong> (<em>str</em><em>, </em><em>optional</em>) – name/s of the SBF sentence/s to be retrieved. If multiple sentences, each sentence string identifier should be preceded by ‘+’, and all the string should be concatenated in one single string (i.e. ‘+PVTCartesian+AttEuler’). Each sentence needs to have a parsing function that is called in <code class="docutils literal notranslate"><span class="pre">parse_septentrio_msg</span></code> in the part corresponding to the id of the sentence. defaults to ‘+PVTCartesian+AttEuler’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.start_thread_gps">
<span class="sig-name descname"><span class="pre">start_thread_gps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'USB'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.start_thread_gps" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Starts the GPS thread responsible for handling I/O communication between the host computer and the Septentrio mosaic-go receiver.</p>
<p>Creates the threading Event that is set when the I/O communication must be closed.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interface</strong> (<em>str</em><em>, </em><em>optional</em>) – is one of the allowed Septentrio interfaces. Current implementation only uses ‘USB’ interface.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.stop_gps_data_retrieval">
<span class="sig-name descname"><span class="pre">stop_gps_data_retrieval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'USB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'+NMEA+SBF'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.stop_gps_data_retrieval" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Stops the streaming of the NMEA/SBF sentences initiated by calling <code class="docutils literal notranslate"><span class="pre">start_gps_data_retrieval</span></code>.</p>
<p>Wrapper of <code class="docutils literal notranslate"><span class="pre">sendCommandGps</span></code>.</p>
<p><em>Unexpected behaviour to be noted by</em> <strong>developers</strong>: <em>it seems that if the stream is not stopped by the time the serial connection is closed, then, when the user opens a new serial connection, Septentrio will start sending all the SBF or NMEA messages that were produced between the last time the serial connection was closed and the time it is opened again</em>.</p>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><p>stream_number (int, optional): _description_. Defaults to 1.
interface (str, optional): _description_. Defaults to ‘USB’.
msg_type (str, optional): _description_. Defaults to ‘NMEA’.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream_number</strong> (<em>int</em><em>, </em><em>optional</em>) – number of the stream to be stopped, defaults to 1</p></li>
<li><p><strong>interface</strong> (<em>str</em><em>, </em><em>optional</em>) – is one of the allowed Septentrio interfaces. Current implementation only uses ‘USB’ interface.</p></li>
<li><p><strong>msg_type</strong> (<em>str</em><em>, </em><em>optional</em>) – the message type corresponding to the stream <code class="docutils literal notranslate"><span class="pre">stream_number</span></code>. Options: ‘SBF’, ‘NMEA’ or ‘+NMEA+SBF’ or ‘+SBF+NMEA’ (the last two are the same), defaults to ‘+NMEA+SBF’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.GpsSignaling.stop_thread_gps">
<span class="sig-name descname"><span class="pre">stop_thread_gps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'USB'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.GpsSignaling.stop_thread_gps" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Stops the GPS thread.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interface</strong> (<em>str</em><em>, </em><em>optional</em>) – is one of the allowed Septentrio interfaces. Current implementation only uses ‘USB’ interface.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="a2gmeasurements.myAnritsuSpectrumAnalyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a2gmeasurements.</span></span><span class="sig-name descname"><span class="pre">myAnritsuSpectrumAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer" title="Link to this definition">#</a></dt>
<dd><p>Python class to interact with the MS2760A Anritsu spectrum analyzer.</p>
<p>Functionality implemented retrieves the peak (power and frequency) of the spectrum of the system under test.</p>
<p>The spectrum analyzer also outputs xml files. Developer has to implement a method/s to parse the output of such files if they are used. In the commit history of the github of this project a parser was partially implemented (if the developer wants to check that).</p>
<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.myAnritsuSpectrumAnalyzer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.__init__" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Defines attributes of the class.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>is_debug</strong> (<em>bool</em><em>, </em><em>optional</em>) – print debug messages, defaults to True</p></li>
<li><p><strong>is_config</strong> (<em>bool</em><em>, </em><em>optional</em>) – true if you want to configure the Spectrum Analyzer, defaults to True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.myAnritsuSpectrumAnalyzer.retrieve_max_pow">
<span class="sig-name descname"><span class="pre">retrieve_max_pow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.retrieve_max_pow" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Retrieves the maximum power and its correspondent frequency of the spectrum of the system under test.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>method</strong> (<em>int</em><em>, </em><em>optional</em>) – how to get the maximum peak and corresponding frequency. This is for developer. It is indisctintive for user. Defaults to 2.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – when method is outside of available methods to compute the peak and corresponding frequency.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary with self-explanatory keys ‘MAG’, ‘MAG_UNITS’, ‘FREQ’, ‘FREQ_UNITS’</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.myAnritsuSpectrumAnalyzer.spectrum_analyzer_close">
<span class="sig-name descname"><span class="pre">spectrum_analyzer_close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.spectrum_analyzer_close" title="Link to this definition">#</a></dt>
<dd><p>Closes the socket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.myAnritsuSpectrumAnalyzer.spectrum_analyzer_connect">
<span class="sig-name descname"><span class="pre">spectrum_analyzer_connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">HOST</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'127.0.0.1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PORT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.spectrum_analyzer_connect" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Creates a socket to connect to the spectrum analyzer.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>HOST</strong> (<em>str</em><em>, </em><em>optional</em>) – ip address of the spectrum analyzer, defaults to ‘127.0.0.1’</p></li>
<li><p><strong>PORT</strong> (<em>int</em><em>, </em><em>optional</em>) – TCP/IP port, defaults to 9001</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="a2gmeasurements.HelperA2GMeasurements">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a2gmeasurements.</span></span><span class="sig-name descname"><span class="pre">HelperA2GMeasurements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SERVER_ADDRESS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsGimbal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsGPS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsSignalGenerator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsRFSoC</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rfsoc_static_ip_address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SPEED</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GPS_Stream_Interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msec500'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AVG_CALLBACK_TIME_SOCKET_RECEIVE_FCN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operating_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">57510000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.HelperA2GMeasurements" title="Link to this definition">#</a></dt>
<dd><p>Python class for handling the interaction between the multiple devices available in the system: gps, gimbal and rfsoc.</p>
<p>It creates instances of each class handling one of those devices (i.e. GimbalRS2, GpsSignaling).</p>
<p>It creates a wireless TCP connection between the host computers of both nodes (air and ground node) to control devices and retrieve information from them.</p>
<p>It creates a thread (called here communication thread) to handle the communication between the host computers of both nodes.</p>
<p><code class="docutils literal notranslate"><span class="pre">MAX_TIME_EMPTY_SOCKETS`</span></code>: the maximum allowed time to wait if no information was sent over a socket.</p>
<p><code class="docutils literal notranslate"><span class="pre">CONN_MUST_OVER_FLAG</span></code>: a (boolean) flag indicating whether to close or not the connection between the host computers.</p>
<p><code class="docutils literal notranslate"><span class="pre">drone_fm_flag</span></code>: a (boolean) flag set at the GUI indicating whether the air node’s gimbal should follow the ground node. In all our documentation, a gimbal is said to be in “follow mode” (don’t confuse with DJI’s RS2 camera-based follow mode) if it follows the other node.</p>
<p><code class="docutils literal notranslate"><span class="pre">PAP_TO_PLOT</span></code>: a numpy array (of size defined in the method <code class="docutils literal notranslate"><span class="pre">pipeline_operations_rfsoc_rx_ndarray``of</span> <span class="pre">the</span> <span class="pre">class</span> <span class="pre">``RFSoCRemoteControlFromHost</span></code>) used to plot the Power Angular Profile (PAP) of the wireless channel in GUI’s PAP Panel.</p>
<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.HelperA2GMeasurements.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SERVER_ADDRESS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DBG_LVL_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsGimbal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsGPS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsSignalGenerator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IsRFSoC</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rfsoc_static_ip_address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SPEED</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GPS_Stream_Interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msec500'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AVG_CALLBACK_TIME_SOCKET_RECEIVE_FCN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operating_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">57510000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.HelperA2GMeasurements.__init__" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Creates instances of classes <code class="docutils literal notranslate"><span class="pre">GimbalRS2</span></code> (or <code class="docutils literal notranslate"><span class="pre">GimbalGremsyH16</span></code>), <code class="docutils literal notranslate"><span class="pre">GpsSignaling</span></code>, <code class="docutils literal notranslate"><span class="pre">RFSoCRemoteControlFromHost</span></code> to control these devices.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ID</strong> (<em>str</em>) – either ‘DRONE’ or ‘GND’.</p></li>
<li><p><strong>SERVER_ADDRESS</strong> (<em>str</em>) – the IP address of the ground station.</p></li>
<li><p><strong>DBG_LVL_0</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set, prints some low-level messages usefull for debugging, defaults to False.</p></li>
<li><p><strong>DBG_LVL_1</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set, prints some higher-level messages usefull for debugging, defaults to False.</p></li>
<li><p><strong>IsGimbal</strong> (<em>int</em><em> or </em><em>bool</em><em>, </em><em>optional</em>) – 0 or FALSE, when no gimbal is physically connected to this host computer; 1, when a Ronin RS2 is physically connected; 2, when a Gremsy H16 is physically connected. Defaults to False.</p></li>
<li><p><strong>IsGPS</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if a gps is physically connected to this host computer. False otherwise, defaults to False.</p></li>
<li><p><strong>IsSignalGenerator</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if a signal generator controlled by pyvisa commands is physically connected to this host computer. False otherwise, defaults to False.</p></li>
<li><p><strong>IsRFSoC</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if an RFSoC is physically connected to this host computer. False otherwise, defaults to False.</p></li>
<li><p><strong>rfsoc_static_ip_address</strong> (<em>str</em><em>, </em><em>optional</em>) – IP address of the RFSoC connected to this host computer, defaults to None</p></li>
<li><p><strong>L0</strong> (<em>float</em><em>, </em><em>optional</em>) – parameter of the signal generator, defaults to None</p></li>
<li><p><strong>SPEED</strong> (<em>int</em><em>, </em><em>optional</em>) – the speed of the node in m/s. If this node is GROUND it should be 0 (gnd node does not move) as it is by default. This parameter ONLY incides in raising a warning debug print when the speed of the node is higher than the time difference between consecutive SBF sentences. NOT a crutial parameter at all.</p></li>
<li><p><strong>GPS_Stream_Interval</strong> (<em>str</em><em>, </em><em>optional</em>) – time interval used for the retrieving of the configured SBF sentences in Septentrio’s receiver connected to this host computer. A list of available options is shown in <code class="docutils literal notranslate"><span class="pre">start_gps_data_retrieval</span></code> of class <code class="docutils literal notranslate"><span class="pre">GpsSignaling</span></code>, defaults to ‘msec500’.</p></li>
<li><p><strong>AVG_CALLBACK_TIME_SOCKET_RECEIVE_FCN</strong> (<em>float</em><em>, </em><em>optional</em>) – approximated time between calls of the communication thread. This parameter is used in conjunction with <code class="docutils literal notranslate"><span class="pre">MAX_TIME_EMPTY_SOCKETS</span></code> to raise an exception when neither side of the communication link is sending any message. Unfortunately, this is a very simple estimate, since the actual time between calls depends on many factors and is does not remain constant between calls. Defaults to 0.001</p></li>
<li><p><strong>operating_freq</strong> (<em>int</em><em>, </em><em>optional</em>) – operating frequency of the Sivers RF-frontend. The range of defined frequencies is defined in the “User Manual EVK06002” of the Sivers EVK (57-71 GHz) , defaults to 57.51e9</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a2gmeasurements.HelperA2GMeasurements.gimbal_follows_drone">
<span class="sig-name descname"><span class="pre">gimbal_follows_drone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">heading</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_ground</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_ground</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_ground</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_drone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_drone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_drone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a2gmeasurements.HelperA2GMeasurements.gimbal_follows_drone" title="Link to this definition">#</a></dt>
<dd><blockquote>
<div><p>Computes the yaw, pitch and roll angles required to move the gimbal in this node towards the other node.</p>
<p>The caller of this function must guarantee that if <code class="docutils literal notranslate"><span class="pre">self.ID</span> <span class="pre">==</span> <span class="pre">'GROUND'</span></code>, the arguments passed to this function are drone coords. The ground coords SHOULD NOT be passed as they will be obtained from this node Septentrio’s receiver.</p>
<p>The caller of this function must guarantee that if <code class="docutils literal notranslate"><span class="pre">self.ID</span> <span class="pre">==</span> <span class="pre">'DRONE'</span></code>, the arguments passed to this function are ground coords. The drone coords SHOULD NOT be passed as they will be obtained from this node Septentrio’s receiver.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">IsGPS</span></code> is False (no GPS connected), then <code class="docutils literal notranslate"><span class="pre">heading</span></code>, <code class="docutils literal notranslate"><span class="pre">lat_ground</span></code>, <code class="docutils literal notranslate"><span class="pre">lon_ground</span></code>, <code class="docutils literal notranslate"><span class="pre">height_ground</span></code>, <code class="docutils literal notranslate"><span class="pre">lat_drone</span></code>, <code class="docutils literal notranslate"><span class="pre">lon_drone</span></code>, <code class="docutils literal notranslate"><span class="pre">height_drone</span></code> must be provided.</p>
<p>In that case, all coordinates provided must be geodetic (lat, lon, alt).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heading</strong> (<em>float</em><em>, </em><em>optional</em>) – angle between [0, 2*pi] (rads) corresponding to the heading of the line between the two antennas connected to Septentrio’s receiver in this node, defaults to None</p></li>
<li><p><strong>lat_ground</strong> (<em>float</em><em>, </em><em>optional</em>) – latitude of the GPS antenna 1 connected to Septentrio’s receiver at the GROUND node, defaults to None</p></li>
<li><p><strong>lon_ground</strong> (<em>float</em><em>, </em><em>optional</em>) – longitude of the GPS antenna 1 connected to Septentrio’s receiver at the GROUND node, defaults to None</p></li>
<li><p><strong>height_ground</strong> (<em>float</em><em>, </em><em>optional</em>) – height of the GPS antenna 1 connected to Septentrio’s receiver at the GROUND node. Assuming both antennas are placed at the same height, is the altitude (in meters above sea level) of the either of the antennas, defaults to None</p></li>
<li><p><strong>lat_drone</strong> (<em>float</em><em>, </em><em>optional</em>) – latitude of the GPS antenna 1 connected to Septentrio’s receiver at the DRONE node, defaults to None</p></li>
<li><p><strong>lon_drone</strong> (<em>float</em><em>, </em><em>optional</em>) – longitude of the GPS antenna 1 connected to Septentrio’s receiver at the DRONE node, defaults to None</p></li>
<li><p><strong>height_drone</strong> (<em>float</em><em>, </em><em>optional</em>) – height of the GPS antenna 1 connected to Septentrio’s receiver at the DRONE node. Assuming both antennas are placed at the same height, is the altitude (in meters above sea level) of the either of the antennas, defaults to None</p></li>
<li><p><strong>fmode</strong> (<em>int</em><em>, </em><em>optional</em>) – defines if the gimbal will follow the other node in Azimuth, elevation or both of them. Options are: 0x00, for Azimuth and elevation; 0x01, for Elevation, 0x02, for Azimuth. Defaults to 0x00.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>returns either the yaw, pitch or both to be set at the gimbal of this node, to follow the other node. The actual value is the angle value in degrees multiplied by 10 and rounded to the closest integer (i.e. a yaw to set of 45.78 degrees is returned as the yaw value 458).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Julian D. Villegas G.
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">A2GMeasurements</a><ul>
<li><a class="reference internal" href="#use">Use</a></li>
<li><a class="reference internal" href="#api">API</a><ul>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2"><code class="docutils literal notranslate"><span class="pre">GimbalRS2</span></code></a><ul>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.__init__"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.__init__()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.assemble_can_msg"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.assemble_can_msg()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.can_buffer_to_full_frame"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.can_buffer_to_full_frame()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.can_callback"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.can_callback()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.parse_position_response"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.parse_position_response()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.receive"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.receive()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.request_current_position"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.request_current_position()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.send_cmd"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.send_cmd()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.send_data"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.send_data()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.seq_num"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.seq_num()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.setPosControl"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.setPosControl()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.setSpeedControl"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.setSpeedControl()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.start_thread_gimbal"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.start_thread_gimbal()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.stop_thread_gimbal"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.stop_thread_gimbal()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GimbalRS2.validate_api_call"><code class="docutils literal notranslate"><span class="pre">GimbalRS2.validate_api_call()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling"><code class="docutils literal notranslate"><span class="pre">GpsSignaling</span></code></a><ul>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.__init__"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.__init__()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.check_coord_closeness"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.check_coord_closeness()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.get_last_sbf_buffer_info"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.get_last_sbf_buffer_info()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.parse_septentrio_msg"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.parse_septentrio_msg()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.process_atteuler_sbf_data"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.process_atteuler_sbf_data()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.process_gps_nmea_data"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.process_gps_nmea_data()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.process_pvtcart_sbf_data"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.process_pvtcart_sbf_data()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.process_pvtgeodetic_sbf_data"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.process_pvtgeodetic_sbf_data()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.sendCommandGps"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.sendCommandGps()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.serial_connect"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.serial_connect()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.serial_receive"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.serial_receive()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.start_gps_data_retrieval"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.start_gps_data_retrieval()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.start_thread_gps"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.start_thread_gps()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.stop_gps_data_retrieval"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.stop_gps_data_retrieval()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.GpsSignaling.stop_thread_gps"><code class="docutils literal notranslate"><span class="pre">GpsSignaling.stop_thread_gps()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer"><code class="docutils literal notranslate"><span class="pre">myAnritsuSpectrumAnalyzer</span></code></a><ul>
<li><a class="reference internal" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.__init__"><code class="docutils literal notranslate"><span class="pre">myAnritsuSpectrumAnalyzer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.retrieve_max_pow"><code class="docutils literal notranslate"><span class="pre">myAnritsuSpectrumAnalyzer.retrieve_max_pow()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.spectrum_analyzer_close"><code class="docutils literal notranslate"><span class="pre">myAnritsuSpectrumAnalyzer.spectrum_analyzer_close()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.myAnritsuSpectrumAnalyzer.spectrum_analyzer_connect"><code class="docutils literal notranslate"><span class="pre">myAnritsuSpectrumAnalyzer.spectrum_analyzer_connect()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2gmeasurements.HelperA2GMeasurements"><code class="docutils literal notranslate"><span class="pre">HelperA2GMeasurements</span></code></a><ul>
<li><a class="reference internal" href="#a2gmeasurements.HelperA2GMeasurements.__init__"><code class="docutils literal notranslate"><span class="pre">HelperA2GMeasurements.__init__()</span></code></a></li>
<li><a class="reference internal" href="#a2gmeasurements.HelperA2GMeasurements.gimbal_follows_drone"><code class="docutils literal notranslate"><span class="pre">HelperA2GMeasurements.gimbal_follows_drone()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=f2a433a1"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>